{"ast":null,"code":"import _regeneratorRuntime from \"/home/emanuel/Desktop/ReactLearning/articlesreact/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(fetchArticles),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(mySaga);\n\nimport { call, put, takeLatest } from 'redux-saga/effects';\nimport { FETCH_ARTICLES, ARTICLES_FETCH_SUCCESS, ARTICLES_FETCH_ERROR } from '../constants/action-types';\nimport { ENDPOINT } from '../constants/services';\nimport { ENDPOINTARTICLE } from '../constants/article-services';\nimport { ENDPOINTCOMMENT } from '../constants/comment-services';\n\nfunction fetchAll() {\n  return fetch(ENDPOINT).then(function (response) {\n    return response.json();\n  });\n}\n\nfunction fetchAllArticles() {\n  return fetch(ENDPOINTARTICLE).then(function (response) {\n    return response.json();\n  });\n}\n\nfunction fetchAllComments() {\n  return fetch(ENDPOINTCOMMENT).then(function (response) {\n    return response.json();\n  });\n}\n\nfunction fetchArticles(location) {\n  var articles, _articles, _articles2;\n\n  return _regeneratorRuntime.wrap(function fetchArticles$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          console.log(location.payload.location);\n\n          if (!(location.payload.location === '/')) {\n            _context.next = 18;\n            break;\n          }\n\n          _context.prev = 2;\n          _context.next = 5;\n          return call(fetchAll);\n\n        case 5:\n          articles = _context.sent;\n          _context.next = 8;\n          return put({\n            type: ARTICLES_FETCH_SUCCESS,\n            payload: articles\n          });\n\n        case 8:\n          console.log('success try catch');\n          _context.next = 16;\n          break;\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context[\"catch\"](2);\n          console.log(_context.t0);\n          _context.next = 16;\n          return put({\n            type: ARTICLES_FETCH_ERROR,\n            message: _context.t0.message\n          });\n\n        case 16:\n          _context.next = 50;\n          break;\n\n        case 18:\n          if (!(location.payload.location === '/articles')) {\n            _context.next = 35;\n            break;\n          }\n\n          _context.prev = 19;\n          _context.next = 22;\n          return call(fetchAllArticles);\n\n        case 22:\n          _articles = _context.sent;\n          _context.next = 25;\n          return put({\n            type: ARTICLES_FETCH_SUCCESS,\n            payload: _articles\n          });\n\n        case 25:\n          console.log('success try catch');\n          _context.next = 33;\n          break;\n\n        case 28:\n          _context.prev = 28;\n          _context.t1 = _context[\"catch\"](19);\n          console.log(_context.t1);\n          _context.next = 33;\n          return put({\n            type: ARTICLES_FETCH_ERROR,\n            message: _context.t1.message\n          });\n\n        case 33:\n          _context.next = 50;\n          break;\n\n        case 35:\n          if (!(location.payload.location === '/articles')) {\n            _context.next = 50;\n            break;\n          }\n\n          _context.prev = 36;\n          _context.next = 39;\n          return call(fetchAllArticles);\n\n        case 39:\n          _articles2 = _context.sent;\n          _context.next = 42;\n          return put({\n            type: ARTICLES_FETCH_SUCCESS,\n            payload: _articles2\n          });\n\n        case 42:\n          console.log('success try catch');\n          _context.next = 50;\n          break;\n\n        case 45:\n          _context.prev = 45;\n          _context.t2 = _context[\"catch\"](36);\n          console.log(_context.t2);\n          _context.next = 50;\n          return put({\n            type: ARTICLES_FETCH_ERROR,\n            message: _context.t2.message\n          });\n\n        case 50:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, this, [[2, 11], [19, 28], [36, 45]]);\n}\n\nfunction mySaga() {\n  return _regeneratorRuntime.wrap(function mySaga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          console.log('article saga init');\n          _context2.next = 3;\n          return takeLatest(FETCH_ARTICLES, fetchArticles);\n\n        case 3:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, this);\n}\n\nexport default mySaga;","map":{"version":3,"sources":["/home/emanuel/Desktop/ReactLearning/articlesreact/src/js/sagas/articles.js"],"names":["fetchArticles","mySaga","call","put","takeLatest","FETCH_ARTICLES","ARTICLES_FETCH_SUCCESS","ARTICLES_FETCH_ERROR","ENDPOINT","ENDPOINTARTICLE","ENDPOINTCOMMENT","fetchAll","fetch","then","response","json","fetchAllArticles","fetchAllComments","location","console","log","payload","articles","type","message"],"mappings":"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","sourcesContent":["import { call, put, takeLatest } from 'redux-saga/effects';\nimport { FETCH_ARTICLES, ARTICLES_FETCH_SUCCESS, ARTICLES_FETCH_ERROR } from '../constants/action-types';\nimport { ENDPOINT } from '../constants/services';\nimport { ENDPOINTARTICLE } from '../constants/article-services';\nimport { ENDPOINTCOMMENT } from '../constants/comment-services';\n\nfunction fetchAll(){\n  return fetch(ENDPOINT).then(response => response.json(), );\n}\n\nfunction fetchAllArticles(){\n  return fetch(ENDPOINTARTICLE).then(response => response.json(), );\n}\n\nfunction fetchAllComments(){\n  return fetch(ENDPOINTCOMMENT).then(response => response.json(), );\n}\n\nfunction* fetchArticles(location){\n  console.log(location.payload.location);\n  if(location.payload.location === '/'){\n    try{\n      const articles = yield call(fetchAll);\n      yield put({type: ARTICLES_FETCH_SUCCESS, payload: articles});\n      console.log('success try catch');\n    } catch(e){\n      console.log(e);\n      yield put({type: ARTICLES_FETCH_ERROR, message: e.message});\n    }\n  }\n  else if(location.payload.location === '/articles'){\n    try{\n      const articles = yield call(fetchAllArticles);\n      yield put({type: ARTICLES_FETCH_SUCCESS, payload: articles});\n      console.log('success try catch');\n    } catch(e){\n      console.log(e);\n      yield put({type: ARTICLES_FETCH_ERROR, message: e.message});\n    }\n  }\n  else if(location.payload.location === '/articles'){\n    try{\n      const articles = yield call(fetchAllArticles);\n      yield put({type: ARTICLES_FETCH_SUCCESS, payload: articles});\n      console.log('success try catch');\n    } catch(e){\n      console.log(e);\n      yield put({type: ARTICLES_FETCH_ERROR, message: e.message});\n    }\n  }\n}\n\nfunction* mySaga(){\n  console.log('article saga init');\n  yield takeLatest(FETCH_ARTICLES, fetchArticles);\n}\n\nexport default mySaga;\n"]},"metadata":{},"sourceType":"module"}