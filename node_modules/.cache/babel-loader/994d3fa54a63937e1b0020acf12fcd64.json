{"ast":null,"code":"import _regeneratorRuntime from \"/home/emanuel/Desktop/ReactLearning/articlesreact/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(fetchArticles),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(mySaga);\n\nimport { call, put, takeLatest } from 'redux-saga/effects';\nimport { FETCH_ARTICLES, ARTICLES_FETCH_SUCCESS, ARTICLES_FETCH_ERROR } from '../constants/action-types';\nimport { ENDPOINT } from '../constants/services';\n\nfunction fetchAll(location) {\n  console.log('location' + location);\n  return fetch(ENDPOINT).then(function (response) {\n    return response.json();\n  });\n}\n\nfunction fetchArticles() {\n  var articles;\n  return _regeneratorRuntime.wrap(function fetchArticles$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return call(fetchAll);\n\n        case 3:\n          articles = _context.sent;\n          _context.next = 6;\n          return put({\n            type: ARTICLES_FETCH_SUCCESS,\n            payload: articles\n          });\n\n        case 6:\n          console.log('success try catch');\n          _context.next = 14;\n          break;\n\n        case 9:\n          _context.prev = 9;\n          _context.t0 = _context[\"catch\"](0);\n          console.log(_context.t0);\n          _context.next = 14;\n          return put({\n            type: ARTICLES_FETCH_ERROR,\n            message: _context.t0.message\n          });\n\n        case 14:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, this, [[0, 9]]);\n}\n\nfunction mySaga() {\n  return _regeneratorRuntime.wrap(function mySaga$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          console.log('article saga init');\n          _context2.next = 3;\n          return takeLatest(FETCH_ARTICLES, fetchArticles);\n\n        case 3:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, this);\n}\n\nexport default mySaga;","map":{"version":3,"sources":["/home/emanuel/Desktop/ReactLearning/articlesreact/src/js/sagas/articles.js"],"names":["fetchArticles","mySaga","call","put","takeLatest","FETCH_ARTICLES","ARTICLES_FETCH_SUCCESS","ARTICLES_FETCH_ERROR","ENDPOINT","fetchAll","location","console","log","fetch","then","response","json","articles","type","payload","message"],"mappings":";;;;yBASUA,a;;;yBAWAC,M;;AApBV,SAASC,IAAT,EAAeC,GAAf,EAAoBC,UAApB,QAAsC,oBAAtC;AACA,SAASC,cAAT,EAAyBC,sBAAzB,EAAiDC,oBAAjD,QAA6E,2BAA7E;AACA,SAASC,QAAT,QAAyB,uBAAzB;;AAEA,SAASC,QAAT,CAAkBC,QAAlB,EAA2B;AACzBC,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAaF,QAAzB;AACA,SAAOG,KAAK,CAACL,QAAD,CAAL,CAAgBM,IAAhB,CAAqB,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GAA7B,CAAP;AACD;;AAED,SAAUhB,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEqB,iBAAME,IAAI,CAACO,QAAD,CAAV;;AAFrB;AAEUQ,UAAAA,QAFV;AAAA;AAGI,iBAAMd,GAAG,CAAC;AAACe,YAAAA,IAAI,EAAEZ,sBAAP;AAA+Ba,YAAAA,OAAO,EAAEF;AAAxC,WAAD,CAAT;;AAHJ;AAIIN,UAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AAJJ;AAAA;;AAAA;AAAA;AAAA;AAMID,UAAAA,OAAO,CAACC,GAAR;AANJ;AAOI,iBAAMT,GAAG,CAAC;AAACe,YAAAA,IAAI,EAAEX,oBAAP;AAA6Ba,YAAAA,OAAO,EAAE,YAAEA;AAAxC,WAAD,CAAT;;AAPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAWA,SAAUnB,MAAV;AAAA;AAAA;AAAA;AAAA;AACEU,UAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AADF;AAEE,iBAAMR,UAAU,CAACC,cAAD,EAAiBL,aAAjB,CAAhB;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKA,eAAeC,MAAf","sourcesContent":["import { call, put, takeLatest } from 'redux-saga/effects';\nimport { FETCH_ARTICLES, ARTICLES_FETCH_SUCCESS, ARTICLES_FETCH_ERROR } from '../constants/action-types';\nimport { ENDPOINT } from '../constants/services';\n\nfunction fetchAll(location){\n  console.log('location' + location);\n  return fetch(ENDPOINT).then(response => response.json(), );\n}\n\nfunction* fetchArticles(){\n  try{\n    const articles = yield call(fetchAll);\n    yield put({type: ARTICLES_FETCH_SUCCESS, payload: articles});\n    console.log('success try catch');\n  } catch(e){\n    console.log(e);\n    yield put({type: ARTICLES_FETCH_ERROR, message: e.message});\n  }\n}\n\nfunction* mySaga(){\n  console.log('article saga init');\n  yield takeLatest(FETCH_ARTICLES, fetchArticles);\n}\n\nexport default mySaga;\n"]},"metadata":{},"sourceType":"module"}