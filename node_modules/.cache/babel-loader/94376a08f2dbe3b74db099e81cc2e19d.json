{"ast":null,"code":"import _regeneratorRuntime from \"/home/emanuel/Desktop/ReactLearning/articlesreact/node_modules/@babel/runtime/regenerator\";\n\nvar _marked =\n/*#__PURE__*/\n_regeneratorRuntime.mark(deleteArticle),\n    _marked2 =\n/*#__PURE__*/\n_regeneratorRuntime.mark(mySagaArticleDELETE);\n\nimport { call, put, takeLatest } from 'redux-saga/effects';\nimport { FETCH_ARTICLES, ARTICLES_FETCH_SUCCESS, ARTICLES_FETCH_ERROR, DELETE_ARTICLE } from '../constants/action-types-articles'; // import { ENDPOINT } from '../constants/services';\n// import { ENDPOINTARTICLE } from '../constants/article-services';\n// import { ENDPOINTCOMMENT } from '../constants/comment-services';\n\nfunction deleteThisArticle(id) {\n  return fetch('http://tdi-api.test:8080/api/article/' + id, {\n    method: 'DELETE',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    }\n  }).then(function (response) {\n    return response.json();\n  });\n}\n\nfunction deleteArticle(action) {\n  var id, articles;\n  return _regeneratorRuntime.wrap(function deleteArticle$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          id = action.payload.article;\n          console.log('DELETE', id);\n          _context.prev = 2;\n          _context.next = 5;\n          return call(deleteThisArticle, id);\n\n        case 5:\n          articles = _context.sent;\n          _context.next = 8;\n          return put({\n            type: ARTICLES_FETCH_SUCCESS,\n            payload: articles\n          });\n\n        case 8:\n          console.log('success DELETE');\n          _context.next = 16;\n          break;\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context[\"catch\"](2);\n          console.log('Error', _context.t0);\n          _context.next = 16;\n          return put({\n            type: ARTICLES_FETCH_ERROR,\n            message: _context.t0.message\n          });\n\n        case 16:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, this, [[2, 11]]);\n}\n\nfunction mySagaArticleDELETE() {\n  return _regeneratorRuntime.wrap(function mySagaArticleDELETE$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          console.log('article saga DELETE');\n          _context2.next = 3;\n          return takeLatest(DELETE_ARTICLE, deleteArticle);\n\n        case 3:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2, this);\n}\n\nexport default mySagaArticleDELETE;","map":{"version":3,"sources":["/home/emanuel/Desktop/ReactLearning/articlesreact/src/js/sagas/articlesDELETE.js"],"names":["deleteArticle","mySagaArticleDELETE","call","put","takeLatest","FETCH_ARTICLES","ARTICLES_FETCH_SUCCESS","ARTICLES_FETCH_ERROR","DELETE_ARTICLE","deleteThisArticle","id","fetch","method","headers","Accept","then","response","json","action","payload","article","console","log","articles","type","message"],"mappings":";;;;yBAgBUA,a;;;yBAaAC,mB;;AA7BV,SAASC,IAAT,EAAeC,GAAf,EAAoBC,UAApB,QAAsC,oBAAtC;AACA,SAASC,cAAT,EAAyBC,sBAAzB,EAAiDC,oBAAjD,EAAuEC,cAAvE,QAA6F,oCAA7F,C,CACA;AACA;AACA;;AAEA,SAASC,iBAAT,CAA2BC,EAA3B,EAA8B;AAC5B,SAAOC,KAAK,CAAC,0CAAwCD,EAAzC,EAA4C;AACtDE,IAAAA,MAAM,EAAE,QAD8C;AAEtDC,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EAAE,kBADD;AAEP,sBAAgB;AAFT;AAF6C,GAA5C,CAAL,CAMJC,IANI,CAMC,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GANT,CAAP;AAOD;;AAED,SAAUjB,aAAV,CAAwBkB,MAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AACQR,UAAAA,EADR,GACaQ,MAAM,CAACC,OAAP,CAAeC,OAD5B;AAEEC,UAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBZ,EAAtB;AAFF;AAAA;AAIqB,iBAAMR,IAAI,CAACO,iBAAD,EAAoBC,EAApB,CAAV;;AAJrB;AAIUa,UAAAA,QAJV;AAAA;AAKI,iBAAMpB,GAAG,CAAC;AAACqB,YAAAA,IAAI,EAAElB,sBAAP;AAA+Ba,YAAAA,OAAO,EAAEI;AAAxC,WAAD,CAAT;;AALJ;AAMIF,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AANJ;AAAA;;AAAA;AAAA;AAAA;AAQID,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AARJ;AASI,iBAAMnB,GAAG,CAAC;AAACqB,YAAAA,IAAI,EAAEjB,oBAAP;AAA6BkB,YAAAA,OAAO,EAAE,YAAEA;AAAxC,WAAD,CAAT;;AATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAaA,SAAUxB,mBAAV;AAAA;AAAA;AAAA;AAAA;AACEoB,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AADF;AAEE,iBAAMlB,UAAU,CAACI,cAAD,EAAiBR,aAAjB,CAAhB;;AAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKA,eAAeC,mBAAf","sourcesContent":["import { call, put, takeLatest } from 'redux-saga/effects';\nimport { FETCH_ARTICLES, ARTICLES_FETCH_SUCCESS, ARTICLES_FETCH_ERROR, DELETE_ARTICLE } from '../constants/action-types-articles';\n// import { ENDPOINT } from '../constants/services';\n// import { ENDPOINTARTICLE } from '../constants/article-services';\n// import { ENDPOINTCOMMENT } from '../constants/comment-services';\n\nfunction deleteThisArticle(id){\n  return fetch('http://tdi-api.test:8080/api/article/'+id,{\n    method: 'DELETE',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n  }).then(response => response.json(), );\n}\n\nfunction* deleteArticle(action){\n  const id = action.payload.article;\n  console.log('DELETE', id);\n  try{\n    const articles = yield call(deleteThisArticle, id);\n    yield put({type: ARTICLES_FETCH_SUCCESS, payload: articles});\n    console.log('success DELETE');\n  } catch(e){\n    console.log('Error', e);\n    yield put({type: ARTICLES_FETCH_ERROR, message: e.message});\n  }\n}\n\nfunction* mySagaArticleDELETE(){\n  console.log('article saga DELETE');\n  yield takeLatest(DELETE_ARTICLE, deleteArticle);\n}\n\nexport default mySagaArticleDELETE;\n"]},"metadata":{},"sourceType":"module"}